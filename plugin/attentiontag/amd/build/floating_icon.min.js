define("block_attentiontag/floating_icon",["jquery","core/log","block_attentiontag/attention-tag"],(function($,log,attentiontag){return{init:function(){log.debug("AttentionTag block initialized."),attentiontag.init(),$(".attentiontag-chat-box").fadeIn(),$("#attentiontag-btn-no").on("click",(function(){$(".attentiontag-chat-box").fadeOut(),$("#attentiontag-image-initial").show()})),$("#attentiontag-btn-yes").on("click",(function(){$(".attentiontag-chat-box").fadeOut(),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:!0}).then((function(stream){log.debug("Camera access granted."),stream.getTracks().forEach((track=>track.stop())),$("#attentiontag-image-initial").hide(),$("#attentiontag-image-after-permission").show(),setTimeout((function(){$("#attentiontag-image-after-permission").hide(),$("#attentiontag-image-happy").show(),setTimeout((function(){$("#attentiontag-image-happy").hide(),$("#attentiontag-image-sad").show(),setTimeout((function(){$("#attentiontag-image-sad").addClass("attentiontag-shake")}),7e3)}),7e3)}),5e3)})).catch((function(err){log.debug("Camera access denied: "+err)})):log.debug("getUserMedia not supported by this browser.")})),$("#attentiontag-image-sad").on("click",(function(){$(".attentiontag-message-box").fadeIn(),$("#attentiontag-image-sad").removeClass("attentiontag-shake")})),$(".attentiontag-close-button").on("click",(function(){$(".attentiontag-message-box").fadeOut()}))}}}));

//# sourceMappingURL=floating_icon.min.js.map